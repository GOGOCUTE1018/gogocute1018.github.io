<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Èú≤Êó©GOGOÁöÑÊ∏∏ÊàèÊó∂Èó¥</title>
  
  <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
  <link rel="manifest" href="site.webmanifest">
  <link rel="shortcut icon" href="icons/favicon.ico">

  <style>
    *{margin:0;padding:0;box-sizing:border-box}:root{--primary-color:#FEB6E1;--secondary-color:#1a1016;--border-color:#3b2635;--text-primary:#ffeef8;--text-secondary:#d7b7cc;--card-bg:#1a1016;--hover-bg:#241321}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Noto Sans',Helvetica,Arial,sans-serif;background:url('bg.webp') center/cover fixed;background-attachment:fixed;color:var(--text-primary);line-height:1.6;min-height:100vh;position:relative}body::before{content:'';position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(18,7,19,0.65);pointer-events:none;z-index:-1}.container{max-width:1200px;margin:0 auto;padding:40px 20px;position:relative;z-index:1}.header{display:none}.header h1{display:none}.header p{display:none}.search-bar{max-width:500px;margin:20px auto;display:flex;justify-content:center}.search-input{flex:1;padding:12px 16px;background:rgba(24,11,26,0.9);border:1px solid rgba(254,182,225,0.3);border-radius:999px;color:var(--text-primary);font-size:1em;transition:all 0.3s ease;backdrop-filter:blur(8px)}.search-input:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px rgba(254,182,225,0.25)}.tabs{display:flex;gap:20px;margin-bottom:30px;border-bottom:1px solid rgba(254,182,225,0.2);justify-content:center;flex-wrap:wrap;backdrop-filter:blur(6px);padding:15px 0;border-radius:12px;background:rgba(18,7,19,0.4)}.tab-btn{padding:12px 24px;background:transparent;border:none;color:var(--text-secondary);font-size:1.1em;cursor:pointer;position:relative;transition:color 0.3s ease;border-bottom:2px solid transparent;margin-bottom:-1px}.tab-btn:hover{color:var(--primary-color);transform:translateY(-1px)}.tab-btn.active{color:var(--primary-color);border-bottom-color:var(--primary-color);text-shadow:0 0 10px rgba(254,182,225,0.5)}.tab-content{display:none;animation:fadeIn 0.3s ease-out}.tab-content.active{display:block}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes slideDown{from{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.games-grid{width:100%}.game-card{background:rgba(18,7,19,0.85);border:1px solid rgba(254,182,225,0.3);border-radius:16px;padding:20px;transition:all 0.3s ease;cursor:pointer;backdrop-filter:blur(10px);margin-bottom:20px;width:calc(33.333% - 14px)}.hidden{display:none}@media (max-width:768px){.header h1{font-size:1.8em}.game-card{width:100%}.timeline-item{grid-template-columns:1fr}.tabs{gap:10px}.tab-btn{padding:10px 16px;font-size:1em}}@keyframes slideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.game-card:hover{background:rgba(30,12,32,0.95);border-color:var(--primary-color);transform:translateY(-4px);box-shadow:0 0 20px rgba(254,182,225,0.4),inset 0 0 10px rgba(254,182,225,0.1)}.game-title{font-size:1.3em;font-weight:600;margin-bottom:15px;color:var(--primary-color)}.episode-list{display:flex;flex-direction:column;gap:12px}.episode-item{display:flex;align-items:center;gap:10px;padding:8px 12px;background:rgba(24,11,26,0.8);border-radius:999px;transition:all 0.3s ease;text-decoration:none;color:var(--text-primary);border:1px solid transparent}.episode-item:hover{background:rgba(254,182,225,0.15);padding-left:16px;border-color:var(--primary-color);box-shadow:0 0 12px rgba(254,182,225,0.3),inset 0 0 8px rgba(254,182,225,0.05)}.episode-date{font-size:0.85em;color:var(--text-secondary);white-space:nowrap;min-width:100px}.episode-time{font-size:0.9em;color:var(--primary-color);font-weight:600;white-space:nowrap}.episodes-timeline{display:flex;flex-direction:column;gap:20px}.timeline-item{display:grid;grid-template-columns:200px 1fr;gap:20px;padding:20px;background:rgba(18,7,19,0.85);border-left:3px solid var(--primary-color);border-radius:12px;animation:slideUp 0.4s ease-out;backdrop-filter:blur(10px);border-top:1px solid rgba(254,182,225,0.2);border-right:1px solid rgba(254,182,225,0.1);border-bottom:1px solid rgba(0,0,0,0.3)}.timeline-date{font-weight:600;color:var(--primary-color);font-size:1.1em;text-shadow:0 0 8px rgba(254,182,225,0.4)}.timeline-video-link{color:var(--text-secondary);text-decoration:none;margin-bottom:12px;display:block;transition:all 0.3s ease}.timeline-video-link:hover{color:var(--primary-color);text-shadow:0 0 10px rgba(254,182,225,0.6)}.timeline-games{display:flex;flex-direction:column;gap:10px}.game-segment{display:flex;align-items:center;gap:12px;padding:10px 12px;background:rgba(24,11,26,0.9);border-radius:999px;transition:all 0.3s ease;border:1px solid transparent;cursor:pointer;text-decoration:none;color:var(--text-primary)}.game-segment:hover{background:rgba(254,182,225,0.15);border-color:var(--primary-color);box-shadow:0 0 12px rgba(254,182,225,0.3),inset 0 0 8px rgba(254,182,225,0.05);transform:translateX(2px)}.segment-time{color:var(--primary-color);font-weight:600;min-width:70px;font-size:0.95em}.segment-name{flex:1;color:var(--text-primary)}.segment-link{display:none}.game-segment:hover .segment-link{display:none}.hidden{display:none!important}@media (max-width:768px){.header h1{font-size:1.8em}.games-grid{column-count:1}.timeline-item{grid-template-columns:1fr}.tabs{gap:10px}.tab-btn{padding:10px 16px;font-size:1em}}.footer{text-align:center;padding:30px 0;color:var(--text-secondary);font-size:0.9em;border-top:1px solid rgba(254,182,225,0.1);margin-top:40px;background:rgba(18,7,19,0.6);backdrop-filter:blur(5px)}.author-link{color:var(--primary-color);text-decoration:none;transition:all 0.3s ease;font-weight:600}.author-link:hover{color:#fff;text-shadow:0 0 10px var(--primary-color)}
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üì∫ Áõ¥Êí≠ÂõûÊîæÂ≠òÊ°£</h1>
      <p>Livestream Archive - Âø´ÈÄüÊü•Êâæ‰Ω†ÂñúÊ¨¢ÁöÑÊ∏∏Êàè</p>
    </div>

    <div class="search-bar">
      <input type="text" id="searchInput" class="search-input" placeholder="ÊêúÁ¥¢Ê∏∏ÊàèÂêçÁß∞„ÄÅÊó•Êúü„ÄÅËßÜÈ¢ëÊ†áÈ¢ò...">
    </div>

    <div class="tabs">
      <button class="tab-btn active" onclick="switchTab('games')">üéÆ ÊåâÊ∏∏ÊàèÂàÜÁ±ª</button>
      <button class="tab-btn" onclick="switchTab('timeline')">üìÖ ÊåâÊó∂Èó¥Á∫ø</button>
    </div>

    <div id="games" class="tab-content active">
      <div class="games-grid" id="gamesGrid">
        <!-- {{ GAMES_GRID }} -->
      </div>
    </div>

    <div id="timeline" class="tab-content">
      <div class="episodes-timeline" id="timelineContainer">
        <!-- {{ TIMELINE_ITEMS }} -->
      </div>
    </div>
  </div>

  <div class="footer">
  Powered by Gemini & GitHub Actions &copy; 
  <a href="https://space.bilibili.com/1669777785" target="_blank" rel="noopener noreferrer" class="author-link">
    Èú≤Êó©GOGO
  </a>
</div>

  <script src="https://unpkg.com/imagesloaded@5/imagesloaded.pkgd.min.js"></script>
  <script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
  <script>
    let msnry;
    
    function debounce(func, wait) {
      let timeout;
      return function () {
        const context = this;
        const args = arguments;
        clearTimeout(timeout);
        timeout = setTimeout(() => {
          func.apply(context, args);
        }, wait);
      };
    }

    function switchTab(tab) {
      document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
      document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
      document.getElementById(tab).classList.add('active');

      if (window.event) window.event.currentTarget.classList.add('active');

      if (tab === 'games' && msnry) {
        setTimeout(() => {
          msnry.layout();
        }, 10);
      }
    }

    document.addEventListener('DOMContentLoaded', function() {
        const grid = document.getElementById('gamesGrid');
        
        imagesLoaded(grid, function () {
            msnry = new Masonry(grid, {
              itemSelector: '.game-card',
              columnWidth: '.game-card',
              percentPosition: true,
              gutter: 20
            });
        });

        document.getElementById('searchInput').addEventListener('input', debounce(function () {
          const query = this.value.toLowerCase();

          const cards = document.querySelectorAll('.game-card');
          cards.forEach(function (card) {
            const gameName = card.dataset.game.toLowerCase();
            const episodes = card.querySelectorAll('.episode-item');
            let hasMatch = gameName.includes(query);

            episodes.forEach(function (ep) {
              if (ep.textContent.toLowerCase().includes(query)) {
                hasMatch = true;
              }
            });

            if (hasMatch) {
              card.classList.remove('hidden');
              card.style.display = '';
            } else {
              card.classList.add('hidden');
              card.style.display = 'none';
            }
          });

          if (msnry) {
            msnry.layout();
          }

          const timelineItems = document.querySelectorAll('.timeline-item');
          timelineItems.forEach(function (item) {
            const text = item.textContent.toLowerCase();
            if (text.includes(query)) {
              item.classList.remove('hidden');
            } else {
              item.classList.add('hidden');
            }
          });
        }, 300));
    });
  </script>
</body>
</html>